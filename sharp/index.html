<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
		<link href="../_app/immutable/assets/0.Cyg2Ne3_.css" rel="stylesheet">
		<link href="../_app/immutable/assets/7.3fIzBVjY.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Anchor.Cw4DsV4M.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.DfhC7l7S.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B5yBUA3w.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/TTrIPi8I.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DNbBF9NG.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.DL4uc8Ev.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/qGGmyE-U.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/F-Xwb0I_.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.CdfCnRAm.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/9Ud8F66T.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Cbk8Su9P.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/0yhsSVEl.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Btiysd1D.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DF7_RIey.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/7.DnzEMcJL.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/5ZNi9sMP.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DTaq0LnW.js">
  </head>
  <body>
    <div><!--[--><!--[--><!----><header aria-label="Рога и копыта " class="bx--header"><!----><a href="#main-content" tabindex="0" class="bx--skip-to-content"><!---->Skip to main content<!----></a><!----> <!--[--><button type="button" class="bx--header__action bx--header__menu-trigger bx--header__menu-toggle"><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="20" height="20" aria-hidden="true"><!--[!--><!--]--><path d="M4 6H28V8H4zM4 24H28V26H4zM4 12H28V14H4zM4 18H28V20H4z"></path></svg><!----></button><!--]--> <a class="bx--header__name"><!--[--><span class="bx--header__name--prefix"><!---->Рога и копыта <!----></span><!--]--> <!----><!----></a> <!----><nav class="bx--header__nav"><ul role="menubar" class="bx--header__menu-bar"><!----><li role="none"><a role="menuitem" tabindex="0" class="bx--header__menu-item"><span class="bx--text-truncate--end"><!---->Что такое JSON<!----></span></a></li><!----> <li role="none"><a role="menuitem" tabindex="0" class="bx--header__menu-item"><span class="bx--text-truncate--end"><!---->JSON vs XML<!----></span></a></li><!----> <li role="none"><a role="menuitem" tabindex="0" class="bx--header__menu-item"><span class="bx--text-truncate--end"><!---->Well Formed JSON<!----></span></a></li><!----> <li role="none"><a role="menuitem" tabindex="0" class="bx--header__menu-item"><span class="bx--text-truncate--end"><!---->Python<!----></span></a></li><!----> <li role="none"><a role="menuitem" tabindex="0" class="bx--header__menu-item"><span class="bx--text-truncate--end"><!---->JavaScript<!----></span></a></li><!----> <li role="none"><a role="menuitem" tabindex="0" class="bx--header__menu-item"><span class="bx--text-truncate--end"><!---->PHP<!----></span></a></li><!----> <li role="none"><a role="menuitem" tabindex="0" class="bx--header__menu-item"><span class="bx--text-truncate--end"><!---->С#<!----></span></a></li><!----><!----></ul></nav><!----> <div class="bx--header__global"><!----><!--[!--><!--]--> <!--[--><div themes="g10,g80" style="user-select: none;" class="bx--form-item"><input role="switch" type="checkbox" id="ccs-0.dooeexkkkzg" class="bx--toggle-input bx--toggle-input--small"> <label aria-label="Toggle" for="ccs-0.dooeexkkkzg" class="bx--toggle-input__label"><span><!----><!----></span> <span class="bx--toggle__switch"><span aria-hidden="true" class="bx--toggle__text--off"><!----><!----></span> <span aria-hidden="true" class="bx--toggle__text--on"><!----><!----></span></span></label></div><!--]--> <!----><!----><!----> <!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--primary bx--btn--icon-only bx--tooltip__trigger bx--tooltip--a11y bx--btn--icon-only--bottom bx--tooltip--align-center bx--header__action"><!--[--><span class="bx--assistive-text">Profile</span><!--]--> <!----><!----> <!--[--><!----><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="20" height="20" aria-hidden="true" slot="icon"><!--[!--><!--]--><path d="M16,8a5,5,0,1,0,5,5A5,5,0,0,0,16,8Z"></path><path d="M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2Zm7.9925,22.9258A5.0016,5.0016,0,0,0,19,20H13a5.0016,5.0016,0,0,0-4.9925,4.9258,12,12,0,1,1,15.985,0Z"></path></svg><!----><!----><!--]--></button><!--]--><!--]--><!--]--><!----> <!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--primary bx--btn--icon-only bx--tooltip__trigger bx--tooltip--a11y bx--btn--icon-only--bottom bx--tooltip--align-end bx--header__action"><!--[--><span class="bx--assistive-text">Log out</span><!--]--> <!----><!----> <!--[--><!----><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="20" height="20" aria-hidden="true" slot="icon"><!--[!--><!--]--><path d="M6,30H18a2.0023,2.0023,0,0,0,2-2V25H18v3H6V4H18V7h2V4a2.0023,2.0023,0,0,0-2-2H6A2.0023,2.0023,0,0,0,4,4V28A2.0023,2.0023,0,0,0,6,30Z"></path><path d="M20.586 20.586L24.172 17 10 17 10 15 24.172 15 20.586 11.414 22 10 28 16 22 22 20.586 20.586z"></path></svg><!----><!----><!--]--></button><!--]--><!--]--><!--]--><!----><!----></div><!----><!----></header><!----> <!--[--><div class="bx--side-nav__overlay"></div><!--]--> <nav aria-hidden="true" class="bx--side-nav__navigation bx--side-nav bx--side-nav--ux bx--side-nav--collapsed"><!----><ul class="bx--side-nav__items"><!----><li class="bx--side-nav__item"><a class="bx--side-nav__link"><!--[!--><!--]--> <span class="bx--side-nav__link-text"><!---->Что такое JSON<!----></span></a></li><!----> <li class="bx--side-nav__item"><a class="bx--side-nav__link"><!--[!--><!--]--> <span class="bx--side-nav__link-text"><!---->JSON vs XML<!----></span></a></li><!----> <li class="bx--side-nav__item"><a class="bx--side-nav__link"><!--[!--><!--]--> <span class="bx--side-nav__link-text"><!---->Well Formed JSON<!----></span></a></li><!----> <li class="bx--side-nav__item"><button type="button" aria-expanded="false" class="bx--side-nav__submenu"><!--[!--><!--]--> <span class="bx--side-nav__submenu-title">Языки программирования</span> <div class="bx--side-nav__icon bx--side-nav__icon--small bx--side-nav__submenu-chevron"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----></div></button> <ul role="menu" class="bx--side-nav__menu"><!----><li class="bx--side-nav__menu-item"><a class="bx--side-nav__link"><span class="bx--side-nav__link-text"><!---->Python<!----></span></a></li><!----> <li class="bx--side-nav__menu-item"><a class="bx--side-nav__link"><span class="bx--side-nav__link-text"><!---->JavaScript<!----></span></a></li><!----> <li class="bx--side-nav__menu-item"><a class="bx--side-nav__link"><span class="bx--side-nav__link-text"><!---->PHP<!----></span></a></li><!----> <li class="bx--side-nav__menu-item"><a class="bx--side-nav__link"><span class="bx--side-nav__link-text"><!---->С#<!----></span></a></li><!----><!----></ul></li><!----><!----></ul><!----></nav><!----> <main id="main-content" style="margin-left: 0;" class="bx--content"><!----><!--[!--><div class="bx--grid"><!----><!--[!--><div class="mobile-nav bx--row"><!----><!--[!--><div class="bx--col-sm-4 bx--col-md-8 bx--col-lg-0"><!----><h5>Содержание</h5> <!--[--><aside class="toc svelte-1hpm22o"><ol class="bx--list--ordered"><!----><!--[--><li class="bx--list__item"><!----><a href="#JSON" class="nav-link">Как устроен JSON</a><!----></li><li class="bx--list__item"><!----><a href="#JSON-object" class="nav-link">JSON-объект</a><!----></li><li class="bx--list__item"><!----><a href="#JSON-array" class="nav-link">JSON-массив</a><!----></li><!--]--><!----></ol><!----></aside><!--]--><!----></div><!--]--><!----></div><!--]--><!----> <!--[!--><div class="bx--row"><!----><!--[!--><div class="bx--col-lg-3"><!----><!----></div><!--]--><!----> <!--[!--><div class="bx--col-sm-4 bx--col-md-8 bx--col-lg-10"><!----><!----><!----><h1 class="svelte-uakn4s">С# JSON</h1> <p class="svelte-uakn4s">В руководстве по C# JSON показано, как работать с данными JSON в C# с помощью классов стандартной библиотеки чекайте сами).</p> <p class="svelte-uakn4s">Мы же рассмотрим одну из популярных сторонних библиотек под названием Json.NET</p> <section id="SystemTextJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">System.Text.Json</h2><!----></section><!----> <p class="svelte-uakn4s">Пространство имён System.Text.Json предоставляет высокопроизводительные, не требующие больших ресурсов и соответствующие стандартам инструменты для работы с JSON. Классы позволяют сериализовать объекты в текст JSON и десериализовать текст JSON в объекты. Поддержка UTF-8 встроена.</p> <section id="ParserJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# JSON парсер</h2><!----></section><!----> <p class="svelte-uakn4s">JsonDocument.Parse анализирует поток как данные в кодировке UTF-8, представляющие одно значение JSON, и преобразует его в JsonDocument. Поток считывается до завершения.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

string data = @" [ {""name"": ""John Doe"", ""occupation"": ""gardener""}, 
 {""name"": ""Peter Novak"", ""occupation"": ""driver""} ]";

using JsonDocument doc = JsonDocument.Parse(data);
JsonElement root = doc.RootElement;

Console.WriteLine(root);

var u1 = root[0];
var u2 = root[1];
Console.WriteLine(u1);
Console.WriteLine(u2);

Console.WriteLine(u1.GetProperty("name"));
Console.WriteLine(u1.GetProperty("occupation"));

Console.WriteLine(u2.GetProperty("name"));
Console.WriteLine(u2.GetProperty("occupation"));
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В приведенном примере мы анализируем простую строку JSON.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--single"><div style="width: 100%; min-height: 48px; max-height: 240px;" role="textbox" tabindex="0" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!---->using JsonDocument doc = JsonDocument.Parse(data);<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Мы разбираем строку JSON на JsonDocument.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--single"><div style="width: 100%; min-height: 48px; max-height: 240px;" role="textbox" tabindex="0" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!---->JsonElement root = doc.RootElement;<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Мы получаем ссылку на корневой элемент со свойством RootElement.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->var u1 = root[0];
var u2 = root[1];
Console.WriteLine(u1);
Console.WriteLine(u2);
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">С помощью оператора [] мы получаем первый и второй подэлементы документа JSON.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->Console.WriteLine(u1.GetProperty("name"));
Console.WriteLine(u1.GetProperty("occupation"));
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Мы получаем свойства элемента с помощью GetProperty.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ dotnet run
[ {"name": "John Doe", "occupation": "gardener"},
 {"name": "Peter Novak", "occupation": "driver"} ]
{"name": "John Doe", "occupation": "gardener"}
{"name": "Peter Novak", "occupation": "driver"}
John Doe
gardener
Peter Novak
driver
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <section id="enumerateJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# JSON перечисление</h2><!----></section><!----> <p class="svelte-uakn4s">JsonElement.EnumerateArray Перечисляет значения в массиве JSON, представленном символом JsonElement.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

string data = @" [ {""name"": ""John Doe"", ""occupation"": ""gardener""}, 
 {""name"": ""Peter Novak"", ""occupation"": ""driver""} ]";

using var doc = JsonDocument.Parse(data);
JsonElement root = doc.RootElement;

var users = root.EnumerateArray();

while (users.MoveNext())
{
 var user = users.Current;
 System.Console.WriteLine(user);

 var props = user.EnumerateObject();

 while (props.MoveNext())
 {
 var prop = props.Current;
 Console.WriteLine($"{prop.Name}: {prop.Value}");
 }
}
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В приведенном примере мы перечисляем содержимое корневого элемента.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--single"><div style="width: 100%; min-height: 48px; max-height: 240px;" role="textbox" tabindex="0" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!---->var users = root.EnumerateArray();<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Мы получаем массив подэлементов.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->while (users.MoveNext())
{
 var user = users.Current;
 Console.WriteLine(user);
...
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В цикле while мы перебираем массив элементов.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->var props = user.EnumerateObject();

while (props.MoveNext())
{
 var prop = props.Current;
 Console.WriteLine($"{prop.Name}: {prop.Value}");
}
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Во втором цикле while мы просматриваем свойства каждого элемента.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ dotnet run
{"name": "John Doe", "occupation": "gardener"}
name: John Doe
occupation: gardener
{"name": "Peter Novak", "occupation": "driver"}
name: Peter Novak
occupation: driver
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <section id="serializeJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# JSON сериализация</h2><!----></section><!----> <p class="svelte-uakn4s">JsonSerializer.Serialize преобразует значение указанного типа в строку JSON.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

var user = new User("John Doe", "gardener", new MyDate(1995, 11, 30));

var json = JsonSerializer.Serialize(user);
Console.WriteLine(json);

record MyDate(int year, int month, int day);
record User(string Name, string Occupation, MyDate DateOfBirth);
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В приведенном примере мы преобразуем User объект в строку JSON.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ dotnet run
{"Name":"John Doe","Occupation":"gardener",
 "DateOfBirth":{"year":1995,"month":11,"day":30}}
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <section id="deserializeJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# JSON десериализация</h2><!----></section><!----> <p class="svelte-uakn4s">JsonSerializer.Deserialize преобразует текст, представляющий одно значение JSON, в экземпляр указанного типа.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

string json = @"{""Name"":""John Doe"", ""Occupation"":""gardener"",
 ""DateOfBirth"":{""year"":1995,""month"":11,""day"":30}}";

var user = JsonSerializer.Deserialize&lt;User>(json);

Console.WriteLine(user);

Console.WriteLine(user?.Name);
Console.WriteLine(user?.Occupation);
Console.WriteLine(user?.DateOfBirth);

record MyDate(int year, int month, int day);
record User(string Name, string 
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В этом примере строка JSON преобразуется в экземпляр типа User .</p> <section id="JsonSerializerOptionsJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# JsonSerializerOptions</h2><!----></section><!----> <p class="svelte-uakn4s">С JsonSerializerOptions мы можем управлять процессом сериализации с помощью некоторых опций.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

var words = new Dictionary&lt;int, string>
{
 {1, "sky"},
 {2, "cup"},
 {3, "odd"},
 {4, "cloud"},
 {5, "forest"},
 {6, "warm"},
};

var r = JsonSerializer.Serialize(words, 
 new JsonSerializerOptions { WriteIndented = true });

Console.WriteLine(r);

Console.WriteLine("---------------------");

var d = JsonSerializer.Deserialize&lt;Dictionary&lt;int, string>>(r);

foreach (var (k, v) in d!)
{
 Console.WriteLine($"{k}: {v}");
}
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Установив опцию WriteIndented, мы включаем отступ для красивой печати.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ dotnet run
{
 "1": "sky",
 "2": "cup",
 "3": "odd",
 "4": "cloud",
 "5": "forest",
 "6": "warm"
}
---------------------
1: sky
2: cup
3: odd
4: cloud
5: forest
6: warm
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <section id="Utf8JsonWriterJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# Utf8JsonWriter</h2><!----></section><!----> <p class="svelte-uakn4s">Utf8JsonWriter предоставляет высокопроизводительный API для прямой, не кэшируемой записи текста JSON в кодировке UTF-8.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;
using System.Text;

using var ms = new MemoryStream();
using var writer = new Utf8JsonWriter(ms);

writer.WriteStartObject();
writer.WriteString("name", "John Doe");
writer.WriteString("occupation", "gardener");
writer.WriteNumber("age", 34);
writer.WriteEndObject();
writer.Flush();

string json = Encoding.UTF8.GetString(ms.ToArray());

Console.WriteLine(json);
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В этом примере мы создаём новый объект и записываем его в строку JSON.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ dotnet run
{"name":"John Doe","occupation":"gardener","age":34}
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Мы можем установить параметр Indented на true для улучшения вывода JSON.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

string data = @" [ {""name"": ""John Doe"", ""occupation"": ""gardener""}, 
 {""name"": ""Peter Novak"", ""occupation"": ""driver""} ]";

JsonDocument jdoc = JsonDocument.Parse(data);

var fileName = @"data.json";
using FileStream fs = File.OpenWrite(fileName);

using var writer = new Utf8JsonWriter(fs, new JsonWriterOptions { Indented = true });
jdoc.WriteTo(writer);
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В этом примере мы записываем строку JSON в файл. Данные форматируются.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ cat data.json 
[
 {
 "name": "John Doe",
 "occupation": "gardener"
 },
 {
 "name": "Peter Novak",
 "occupation": "driver"
 }
]
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <section id="Utf8JsonReaderJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# Utf8JsonReader</h2><!----></section><!----> <p class="svelte-uakn4s">Utf8JsonReader предоставляет высокопроизводительный API для одностороннего доступа только для чтения к тексту JSON в кодировке UTF-8.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

var fileName = @"/home/user7/data.json";
byte[] data = File.ReadAllBytes(fileName);
Utf8JsonReader reader = new Utf8JsonReader(data);

while (reader.Read())
{
 switch (reader.TokenType)
 {
 case JsonTokenType.StartObject:
 Console.WriteLine("-------------");
 break;
 case JsonTokenType.EndObject:
 break;
 case JsonTokenType.StartArray:
 case JsonTokenType.EndArray:
 break;
 case JsonTokenType.PropertyName:
 Console.Write($"{reader.GetString()}: ");
 break;
 case JsonTokenType.String:
 Console.WriteLine(reader.GetString());
 break;
 default:
 throw new ArgumentException();

 }
}
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В этом примере мы считываем данные JSON из файла с помощью Utf8JsonReader. Это низкоуровневый API для считывания данных JSON. Мы считываем данные по одному токену за раз.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ dotnet run
-------------
name: John Doe
occupation: gardener
-------------
name: Peter Novak
occupation: driver
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <section id="ParseAsyncJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# JSON Асинхронный парсер</h2><!----></section><!----> <p class="svelte-uakn4s">В следующем примере мы асинхронно считываем поток с помощью JsonDocument.ParseAsync.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json;

using var httpClient = new HttpClient();

var url = "https://raw.githubusercontent.com/dotnet/core/master/release-notes/releases-index.json";
var ts = await httpClient.GetStreamAsync(url);

using var resp = await JsonDocument.ParseAsync(ts);

var root = resp.RootElement.GetProperty("releases-index");

var elems = root.EnumerateArray();

while (elems.MoveNext())
{
 var node = elems.Current;
 Console.WriteLine(node);
}
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">В этом примере считываются все версии фреймворка .NET Core, которые доступны в виде строки JSON в репозитории проекта на Github.</p> <section id="GetFromJsonAsyncJsonScarp" class="anchor-section svelte-1uivzw0"><!----><h2 class="svelte-uakn4s">C# HttpClient GetFromJsonAsync</h2><!----></section><!----> <p class="svelte-uakn4s">Метод GetFromJsonAsync отправляет запрос GET на указанный URL-адрес и возвращает значение, полученное в результате асинхронной десериализации тела ответа в формате JSON.</p> <p class="svelte-uakn4s">Этот метод является методом расширения от System.Net.Http.Json.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->using System.Text.Json.Serialization;
using System.Net.Http.Json;

using var client = new HttpClient();

var url = "http://webcode.me/users.json";
var data = await client.GetFromJsonAsync&lt;Users>(url);

if (data != null)
{
 foreach (var user in data.users)
 {
 Console.WriteLine(user);
 }
}

class Users
{
 public List&lt;User> users { get; set; } = new();
}

class User
{
 [JsonPropertyName("id")]
 public int Id { get; set; }

 [JsonPropertyName("first_name")]
 public string FirstName { get; set; } = string.Empty;

 [JsonPropertyName("last_name")]
 public string LastName { get; set; } = string.Empty;

 [JsonPropertyName("email")]
 public string Email { get; set; } = string.Empty;

 public override string ToString()
 {
 return $"User {{ {Id}| {FirstName} {LastName}| {Email} }}";
 }
}
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Мы создаём асинхронный HTTP-запрос к ресурсу JSON. Данные JSON сериализуются в список User объектов.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--single"><div style="width: 100%; min-height: 48px; max-height: 240px;" role="textbox" tabindex="0" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!---->var data = await client.GetFromJsonAsync&lt;Users>(url);<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">GetFromJsonAsync — это удобный метод, который преобразует ресурс JSON в коллекции C#.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->class Users
{
 public List&lt;User> users { get; set; } = new();
}
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">Нам нужно создать определенный класс для List коллекции.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->class User
{
 [JsonPropertyName("id")]
 public int Id { get; set; }

 [JsonPropertyName("first_name")]
 public string FirstName { get; set; } = string.Empty;

 [JsonPropertyName("last_name")]
 public string LastName { get; set; } = string.Empty;

 [JsonPropertyName("email")]
 public string Email { get; set; } = string.Empty;

 public override string ToString()
 {
 return $"User {{ {Id}| {FirstName} {LastName}| {Email} }}";
 }
}
<!----></code></pre></div> <!--[--><button type="button" aria-live="polite" aria-label="Copy to clipboard" title="Copy to clipboard" class="bx--copy-btn bx--copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--snippet__icon"><!--[!--><!--]--><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><!----> <span aria-hidden="true" class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" class="bx--btn bx--btn--sm bx--btn--sm bx--btn--ghost bx--snippet-btn--expand"><!--[!--><!--]--> <!----><span class="bx--snippet-btn--text">Show more</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" role="img" class="bx--icon-chevron--down bx--snippet__icon" aria-label="Show more"><!--[!--><!--]--><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg><!----><!----> <!--[!--><!--[!--><!--]--><!--]--></button><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!----> <p class="svelte-uakn4s">The JSON fields are mapped to class attributes.</p> <!--[!--><!--[!--><div class="bx--snippet bx--snippet--no-copy bx--snippet--multi"><div style="width: 100%; min-height: 48px; max-height: 240px;" aria-label="code-snippet" class="bx--snippet-container"><pre><code><!----><!---->$ dotnet run
User { 1| Robert Schwartz| rob23@gmail.com }
User { 2| Lucy Ballmer| lucyb56@gmail.com }
User { 3| Anna Smith| annasmith23@gmail.com }
User { 4| Robert Brown| bobbrown432@yahoo.com }
User { 5| Roger Bacon| rogerbacon12@yahoo.com }
<!----></code></pre></div> <!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!--]--><!----><!----><!----><!----></div><!--]--><!----> <!--[!--><div class="bx--col-lg-3"><!----><div class="toc-wrapper svelte-1hpm22o"><h5>Содержание</h5> <!--[--><aside class="toc svelte-1hpm22o"><ol class="bx--list--ordered"><!----><!--[--><li class="bx--list__item"><!----><a href="#JSON" class="nav-link">Как устроен JSON</a><!----></li><li class="bx--list__item"><!----><a href="#JSON-object" class="nav-link">JSON-объект</a><!----></li><li class="bx--list__item"><!----><a href="#JSON-array" class="nav-link">JSON-массив</a><!----></li><!--]--><!----></ol><!----></aside><!--]--></div><!----></div><!--]--><!----><!----></div><!--]--><!----><!----></div><!--]--><!----></main><!----> <div class="pagination-container svelte-1hpm22o"><nav aria-label="pagination" class="bx--pagination-nav"><ul class="bx--pagination-nav__list"><li class="bx--pagination-nav__list-item"><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" disabled aria-pressed="false" class="bx--btn bx--btn--ghost bx--btn--disabled bx--btn--icon-only bx--tooltip__trigger bx--tooltip--a11y bx--btn--icon-only--bottom bx--tooltip--align-center"><!--[--><span class="bx--assistive-text">Предыдущая страница</span><!--]--> <!----><!----> <!--[!--><!--[--><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" role="img" style="margin-left: 0" class="bx--btn__icon" aria-label="Предыдущая страница"><!--[!--><!--]--><path d="M20 24L10 16 20 8z"></path></svg><!----><!--]--><!--]--></button><!--]--><!--]--><!--]--><!----></li> <!--[--><li class="bx--pagination-nav__list-item"><button type="button" data-page="1" aria-current="page" class="bx--pagination-nav__page bx--pagination-nav__page--active"><span class="bx--pagination-nav__accessibility-label"><!----><!---->Active, Page<!----></span> 1</button></li><!--]--> <!--[!--><!--[!--><!--]--><!--]--><!----> <!--[--><li class="bx--pagination-nav__list-item"><button type="button" data-page="2" class="bx--pagination-nav__page"><span class="bx--pagination-nav__accessibility-label"><!----><!---->Active, Page<!----></span> 2</button></li><li class="bx--pagination-nav__list-item"><button type="button" data-page="3" class="bx--pagination-nav__page"><span class="bx--pagination-nav__accessibility-label"><!----><!---->Page<!----></span> 3</button></li><!--]--> <!--[--><li class="bx--pagination-nav__list-item"><div class="bx--pagination-nav__select"><select aria-label="Select Page number" class="bx--pagination-nav__page bx--pagination-nav__page--select"><option value="" hidden></option><!--[--><option value="4" data-page="4">4</option><option value="5" data-page="5">5</option><option value="6" data-page="6">6</option><!--]--></select> <div class="bx--pagination-nav__select-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" class="bx--pagination-nav__select-icon"><!--[!--><!--]--><circle cx="8" cy="16" r="2"></circle><circle cx="16" cy="16" r="2"></circle><circle cx="24" cy="16" r="2"></circle></svg><!----></div></div></li><!--]--><!----> <!--[--><li class="bx--pagination-nav__list-item"><button type="button" data-page="7" class="bx--pagination-nav__page"><span class="bx--pagination-nav__accessibility-label"><!----><!---->Page<!----></span> 7</button></li><!--]--> <li class="bx--pagination-nav__list-item"><!--[!--><!--[!--><!--[!--><button type="button" tabindex="0" aria-pressed="false" class="bx--btn bx--btn--ghost bx--btn--icon-only bx--tooltip__trigger bx--tooltip--a11y bx--btn--icon-only--bottom bx--tooltip--align-center"><!--[--><span class="bx--assistive-text">Следующая страница</span><!--]--> <!----><!----> <!--[!--><!--[--><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" preserveAspectRatio="xMidYMid meet" width="16" height="16" aria-hidden="true" role="img" style="margin-left: 0" class="bx--btn__icon" aria-label="Следующая страница"><!--[!--><!--]--><path d="M12 8L22 16 12 24z"></path></svg><!----><!--]--><!--]--></button><!--]--><!--]--><!--]--><!----></li></ul> <div aria-live="polite" aria-atomic="true" class="bx--pagination-nav__accessibility-label">Page
    2
    of
    7</div></nav><!----></div> <footer class="footer-container svelte-1hpm22o">© 2024 Рога и копыта. Все права защищены.</footer><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_4xjbvb = {
						base: new URL("..", location).pathname.slice(0, -1),
						assets: "/LabCss"
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.DfhC7l7S.js"),
						import("../_app/immutable/entry/app.DL4uc8Ev.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 7],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
