import{d as ua,t as U,a as m,c as L,r as $}from"./22ccgk4N.js";import{i as _a}from"./B1_hZmLh.js";import{h as aa,a as ma,aB as ga,aC as ha,aD as xa,b as ba,p as pa,o as ya,k as wa,ae as ka,t as ta,ah as Ia,aE as Ea,aF as Fa,ai as Ta,X as Aa,aG as Ca,az as Na,K as za,ak as j,aH as ra,ax as ea,aI as Ra,c as ia,r as sa,N as X,Q as Sa,a4 as La,R as Pa,a0 as Z,a3 as qa,f as E,S as Oa,Z as G,s as H}from"./DwcvzRHm.js";import{l as W,p as z,i as P}from"./Dxw2y6oX.js";import{t as x,s as K,a as J,e as na,h as oa}from"./DcaWwVWE.js";import{b as Ba}from"./DreLKi_o.js";function fa(t,a,i){aa&&ma();var s=t,r=ka,e,o=ga()?ha:xa;ba(()=>{o(r,r=a())&&(e&&pa(e),e=ya(()=>i(s)))}),aa&&(s=wa)}const Da=()=>performance.now(),F={tick:t=>requestAnimationFrame(t),now:()=>Da(),tasks:new Set};function da(){const t=F.now();F.tasks.forEach(a=>{a.c(t)||(F.tasks.delete(a),a.f())}),F.tasks.size!==0&&F.tick(da)}function Ma(t){let a;return F.tasks.size===0&&F.tick(da),{promise:new Promise(i=>{F.tasks.add(a={c:t,f:i})}),abort(){F.tasks.delete(a)}}}function Q(t,a){t.dispatchEvent(new CustomEvent(a))}function ja(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function la(t){const a={},i=t.split(";");for(const s of i){const[r,e]=s.split(":");if(!r||e===void 0)break;const o=ja(r.trim());a[o]=e.trim()}return a}const Ga=t=>t;function va(t,a,i,s){var r=(t&Ca)!==0,e="both",o,_=a.inert,d=a.style.overflow,n,l;function w(){var u=Ra,R=ta;ra(null),ea(null);try{return o??(o=i()(a,(s==null?void 0:s())??{},{direction:e}))}finally{ra(u),ea(R)}}var T={is_global:r,in(){a.inert=_,Q(a,"introstart"),n=V(a,w(),l,1,()=>{Q(a,"introend"),n==null||n.abort(),n=o=void 0,a.style.overflow=d})},out(u){a.inert=!0,Q(a,"outrostart"),l=V(a,w(),n,0,()=>{Q(a,"outroend"),u==null||u()})},stop:()=>{n==null||n.abort(),l==null||l.abort()}},b=ta;if((b.transitions??(b.transitions=[])).push(T),ua){var v=r;if(!v){for(var f=b.parent;f&&f.f&Ia;)for(;(f=f.parent)&&!(f.f&Ea););v=!f||(f.f&Fa)!==0}v&&Ta(()=>{Aa(()=>T.in())})}}function V(t,a,i,s,r){var e=s===1;if(Na(a)){var o,_=!1;return za(()=>{if(!_){var u=a({direction:e?"in":"out"});o=V(t,u,i,s,r)}}),{abort:()=>{_=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return r(),{abort:j,deactivate:j,reset:j,t:()=>s};const{delay:d=0,css:n,tick:l,easing:w=Ga}=a;var T=[];if(e&&i===void 0&&(l&&l(0,1),n)){var b=la(n(0,1));T.push(b,b)}var v=()=>1-s,f=t.animate(T,{duration:d});return f.onfinish=()=>{var u=(i==null?void 0:i.t())??1-s;i==null||i.abort();var R=s-u,q=a.duration*Math.abs(R),g=[];if(q>0){var S=!1;if(n)for(var O=Math.ceil(q/16.666666666666668),A=0;A<=O;A+=1){var C=u+R*w(A/O),B=la(n(C,1-C));g.push(B),S||(S=B.overflow==="hidden")}S&&(t.style.overflow="hidden"),v=()=>{var k=f.currentTime;return u+R*w(k/q)},l&&Ma(()=>{if(f.playState!=="running")return!1;var k=v();return l(k,1-k),!0})}f=t.animate(g,{duration:q,fill:"forwards"}),f.onfinish=()=>{v=()=>s,l==null||l(s,1-s),r()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=j)},deactivate:()=>{r=j},reset:()=>{s===0&&(l==null||l(1,0))},t:()=>v()}}var Ka=U("<div><div><!></div></div>");function Ua(t,a){const i=W(a,["children","$$slots","$$events","$$legacy"]),s=W(i,["ratio"]);let r=z(a,"ratio",8,"2x1");var e=Ka();let o;var _=ia(e);x(_,"bx--aspect-ratio--object",!0);var d=ia(_);K(d,a,"default",{},null),sa(_),sa(e),X(()=>{o=J(e,o,{...s}),x(e,"bx--aspect-ratio",!0),x(e,"bx--aspect-ratio--2x1",r()==="2x1"),x(e,"bx--aspect-ratio--2x3",r()==="2x3"),x(e,"bx--aspect-ratio--16x9",r()==="16x9"),x(e,"bx--aspect-ratio--4x3",r()==="4x3"),x(e,"bx--aspect-ratio--1x1",r()==="1x1"),x(e,"bx--aspect-ratio--3x4",r()==="3x4"),x(e,"bx--aspect-ratio--3x2",r()==="3x2"),x(e,"bx--aspect-ratio--9x16",r()==="9x16"),x(e,"bx--aspect-ratio--1x2",r()==="1x2")}),m(t,e)}const Za=t=>t;function ca(t,{delay:a=0,duration:i=400,easing:s=Za}={}){const r=+getComputedStyle(t).opacity;return{delay:a,duration:i,easing:s,css:e=>`opacity: ${e*r}`}}var Ha=U("<img>"),Qa=U("<!> <!> <!>",1),Wa=U("<img>"),Xa=U("<!> <!> <!>",1);function rt(t,a){const i=W(a,["children","$$slots","$$events","$$legacy"]),s=W(i,["loadImage","src","alt","ratio","loading","loaded","error","fadeIn"]);Sa(a,!1);let r=z(a,"src",8,""),e=z(a,"alt",8,""),o=z(a,"ratio",8,void 0),_=z(a,"loading",12,!1),d=z(a,"loaded",12,!1),n=z(a,"error",12,!1),l=z(a,"fadeIn",8,!1);const w=g=>{v!=null&&(v=null),d(!1),n(!1),v=new Image,v.src=g||r(),v.onload=()=>d(!0),v.onerror=()=>n(!0)},T=La(),b=110;let v=null;Pa(()=>()=>v=null),Z(()=>(G(d()),G(n())),()=>{_(!d()&&!n())}),Z(()=>G(r()),()=>{r()&&typeof window<"u"&&w()}),Z(()=>G(d()),()=>{d()&&T("load")}),Z(()=>G(n()),()=>{n()&&T("error")}),qa(),_a();var f=L(),u=E(f);{var R=g=>{var S=Qa(),O=E(S);{var A=h=>{var p=L(),c=E(p);K(c,a,"loading",{},null),m(h,p)};P(O,h=>{_()&&h(A)})}var C=H(O,2);fa(C,r,h=>{var p=L(),c=E(p);{var y=I=>{var N=Ha();let D;X(()=>{D=J(N,D,{...s,src:r(),alt:e()}),na(N,"width","100%")}),oa(N),$(N),va(3,N,()=>ca,()=>({duration:l()?b:0})),m(I,N)};P(c,I=>{d()&&I(y)})}m(h,p)});var B=H(C,2);{var k=h=>{var p=L(),c=E(p);K(c,a,"error",{},null),m(h,p)};P(B,h=>{n()&&h(k)})}m(g,S)},q=g=>{Ua(g,{get ratio(){return o()},children:(S,O)=>{var A=Xa(),C=E(A);{var B=c=>{var y=L(),I=E(y);K(I,a,"loading",{},null),m(c,y)};P(C,c=>{_()&&c(B)})}var k=H(C,2);fa(k,r,c=>{var y=L(),I=E(y);{var N=D=>{var M=Wa();let Y;X(()=>{Y=J(M,Y,{...s,src:r(),alt:e()}),na(M,"width","100%")}),oa(M),$(M),va(3,M,()=>ca,()=>({duration:l()?b:0})),m(D,M)};P(I,D=>{d()&&D(N)})}m(c,y)});var h=H(k,2);{var p=c=>{var y=L(),I=E(y);K(I,a,"error",{},null),m(c,y)};P(h,c=>{n()&&c(p)})}m(S,A)},$$slots:{default:!0}})};P(u,g=>{o()===void 0?g(R):g(q,!1)})}return m(t,f),Ba(a,"loadImage",w),Oa({loadImage:w})}export{rt as I};
