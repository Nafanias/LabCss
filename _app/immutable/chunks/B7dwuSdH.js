import{d as ua,t as Z,a as m,c as z,r as $}from"./wGYI1cqU.js";import{i as _a}from"./DcXOWZAV.js";import{h as aa,e as ma,aA as ga,aB as ha,aC as xa,d as ba,w as ya,v as pa,q as wa,ad as Ia,y as ta,ag as ka,aD as Ea,aE as Aa,ah as Fa,Z as Ta,aF as Ca,ay as Na,P as Pa,aj as M,aG as ra,aw as ea,aH as Sa,c as ia,r as sa,S as Q,p as qa,aI as za,o as La,a2 as H,a3 as Ra,f as E,a as Oa,$ as G,s as K}from"./Bwj3twEK.js";import{l as J,p as P,i as L}from"./BLGG1eHZ.js";import{t as x,s as U,a as V,e as na,h as oa}from"./vaU5w7Pq.js";import{b as ja}from"./CJCn7dhF.js";function fa(t,a,i){aa&&ma();var s=t,r=Ia,e,o=ga()?ha:xa;ba(()=>{o(r,r=a())&&(e&&ya(e),e=pa(()=>i(s)))}),aa&&(s=wa)}const Ba=()=>performance.now(),A={tick:t=>requestAnimationFrame(t),now:()=>Ba(),tasks:new Set};function ca(){const t=A.now();A.tasks.forEach(a=>{a.c(t)||(A.tasks.delete(a),a.f())}),A.tasks.size!==0&&A.tick(ca)}function Da(t){let a;return A.tasks.size===0&&A.tick(ca),{promise:new Promise(i=>{A.tasks.add(a={c:t,f:i})}),abort(){A.tasks.delete(a)}}}function W(t,a){t.dispatchEvent(new CustomEvent(a))}function Ma(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function la(t){const a={},i=t.split(";");for(const s of i){const[r,e]=s.split(":");if(!r||e===void 0)break;const o=Ma(r.trim());a[o]=e.trim()}return a}const Ga=t=>t;function va(t,a,i,s){var r=(t&Ca)!==0,e="both",o,_=a.inert,c=a.style.overflow,n,l;function w(){var u=Sa,S=ta;ra(null),ea(null);try{return o??(o=i()(a,(s==null?void 0:s())??{},{direction:e}))}finally{ra(u),ea(S)}}var F={is_global:r,in(){a.inert=_,W(a,"introstart"),n=X(a,w(),l,1,()=>{W(a,"introend"),n==null||n.abort(),n=o=void 0,a.style.overflow=c})},out(u){a.inert=!0,W(a,"outrostart"),l=X(a,w(),n,0,()=>{W(a,"outroend"),u==null||u()})},stop:()=>{n==null||n.abort(),l==null||l.abort()}},b=ta;if((b.transitions??(b.transitions=[])).push(F),ua){var v=r;if(!v){for(var f=b.parent;f&&f.f&ka;)for(;(f=f.parent)&&!(f.f&Ea););v=!f||(f.f&Aa)!==0}v&&Fa(()=>{Ta(()=>F.in())})}}function X(t,a,i,s,r){var e=s===1;if(Na(a)){var o,_=!1;return Pa(()=>{if(!_){var u=a({direction:e?"in":"out"});o=X(t,u,i,s,r)}}),{abort:()=>{_=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return r(),{abort:M,deactivate:M,reset:M,t:()=>s};const{delay:c=0,css:n,tick:l,easing:w=Ga}=a;var F=[];if(e&&i===void 0&&(l&&l(0,1),n)){var b=la(n(0,1));F.push(b,b)}var v=()=>1-s,f=t.animate(F,{duration:c});return f.onfinish=()=>{var u=(i==null?void 0:i.t())??1-s;i==null||i.abort();var S=s-u,R=a.duration*Math.abs(S),g=[];if(R>0){var q=!1;if(n)for(var O=Math.ceil(R/16.666666666666668),T=0;T<=O;T+=1){var C=u+S*w(T/O),j=la(n(C,1-C));g.push(j),q||(q=j.overflow==="hidden")}q&&(t.style.overflow="hidden"),v=()=>{var I=f.currentTime;return u+S*w(I/R)},l&&Da(()=>{if(f.playState!=="running")return!1;var I=v();return l(I,1-I),!0})}f=t.animate(g,{duration:R,fill:"forwards"}),f.onfinish=()=>{v=()=>s,l==null||l(s,1-s),r()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=M)},deactivate:()=>{r=M},reset:()=>{s===0&&(l==null||l(1,0))},t:()=>v()}}var Ua=Z("<div><div><!></div></div>");function Za(t,a){const i=J(a,["children","$$slots","$$events","$$legacy"]),s=J(i,["ratio"]);let r=P(a,"ratio",8,"2x1");var e=Ua();let o;var _=ia(e);x(_,"bx--aspect-ratio--object",!0);var c=ia(_);U(c,a,"default",{},null),sa(_),sa(e),Q(()=>{o=V(e,o,{...s}),x(e,"bx--aspect-ratio",!0),x(e,"bx--aspect-ratio--2x1",r()==="2x1"),x(e,"bx--aspect-ratio--2x3",r()==="2x3"),x(e,"bx--aspect-ratio--16x9",r()==="16x9"),x(e,"bx--aspect-ratio--4x3",r()==="4x3"),x(e,"bx--aspect-ratio--1x1",r()==="1x1"),x(e,"bx--aspect-ratio--3x4",r()==="3x4"),x(e,"bx--aspect-ratio--3x2",r()==="3x2"),x(e,"bx--aspect-ratio--9x16",r()==="9x16"),x(e,"bx--aspect-ratio--1x2",r()==="1x2")}),m(t,e)}const Ha=t=>t;function da(t,{delay:a=0,duration:i=400,easing:s=Ha}={}){const r=+getComputedStyle(t).opacity;return{delay:a,duration:i,easing:s,css:e=>`opacity: ${e*r}`}}var Ka=Z("<img>"),Wa=Z("<!> <!> <!>",1),Ja=Z("<img>"),Qa=Z("<!> <!> <!>",1);function rt(t,a){const i=J(a,["children","$$slots","$$events","$$legacy"]),s=J(i,["loadImage","src","alt","ratio","loading","loaded","error","fadeIn"]);qa(a,!1);let r=P(a,"src",8,""),e=P(a,"alt",8,""),o=P(a,"ratio",8,void 0),_=P(a,"loading",12,!1),c=P(a,"loaded",12,!1),n=P(a,"error",12,!1),l=P(a,"fadeIn",8,!1);const w=g=>{v!=null&&(v=null),c(!1),n(!1),v=new Image,v.src=g||r(),v.onload=()=>c(!0),v.onerror=()=>n(!0)},F=za(),b=110;let v=null;La(()=>()=>v=null),H(()=>(G(c()),G(n())),()=>{_(!c()&&!n())}),H(()=>G(r()),()=>{r()&&typeof window<"u"&&w()}),H(()=>G(c()),()=>{c()&&F("load")}),H(()=>G(n()),()=>{n()&&F("error")}),Ra(),_a();var f=z(),u=E(f);{var S=g=>{var q=Wa(),O=E(q);{var T=h=>{var y=z(),d=E(y);U(d,a,"loading",{},null),m(h,y)};L(O,h=>{_()&&h(T)})}var C=K(O,2);fa(C,r,h=>{var y=z(),d=E(y);{var p=k=>{var N=Ka();let B;Q(()=>{B=V(N,B,{...s,src:r(),alt:e()}),na(N,"width","100%")}),oa(N),$(N),va(3,N,()=>da,()=>({duration:l()?b:0})),m(k,N)};L(d,k=>{c()&&k(p)})}m(h,y)});var j=K(C,2);{var I=h=>{var y=z(),d=E(y);U(d,a,"error",{},null),m(h,y)};L(j,h=>{n()&&h(I)})}m(g,q)},R=g=>{Za(g,{get ratio(){return o()},children:(q,O)=>{var T=Qa(),C=E(T);{var j=d=>{var p=z(),k=E(p);U(k,a,"loading",{},null),m(d,p)};L(C,d=>{_()&&d(j)})}var I=K(C,2);fa(I,r,d=>{var p=z(),k=E(p);{var N=B=>{var D=Ja();let Y;Q(()=>{Y=V(D,Y,{...s,src:r(),alt:e()}),na(D,"width","100%")}),oa(D),$(D),va(3,D,()=>da,()=>({duration:l()?b:0})),m(B,D)};L(k,B=>{c()&&B(N)})}m(d,p)});var h=K(I,2);{var y=d=>{var p=z(),k=E(p);U(k,a,"error",{},null),m(d,p)};L(h,d=>{n()&&d(y)})}m(q,T)},$$slots:{default:!0}})};L(u,g=>{o()===void 0?g(S):g(R,!1)})}return m(t,f),ja(a,"loadImage",w),Oa({loadImage:w})}export{rt as I};
