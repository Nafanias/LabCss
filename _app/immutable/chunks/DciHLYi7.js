import{t as K,a as m,d as R,o as $}from"./pqBE20XK.js";import{i as ua}from"./DRYAVKB2.js";import{h as aa,a as _a,aL as ma,aM as ga,aN as ha,b as ba,p as xa,j as pa,e as ya,ab as wa,l as ta,aa as Ia,aO as ka,aP as Ea,ac as Ta,a1 as Aa,aQ as Ca,aB as Fa,C as Na,al as D,aR as ra,az as ea,aS as La,J as ia,K as sa,G as H,U as za,aD as Pa,Z as Ra,a6 as W,a9 as Sa,M as E,W as Ma,a3 as U,L as Z}from"./BpE17Re9.js";import{i as S}from"./D5ZqgPj_.js";import{s as G,a as V,h as oa}from"./DyRaNj1z.js";import{t as b,s as na}from"./N4dDH0Xk.js";import{a as Oa}from"./Cl6-QYH5.js";import{b as qa}from"./C7p3l8vG.js";import{l as Q,p as L}from"./UkJf_zGc.js";function fa(t,a,i){aa&&_a();var s=t,r=wa,e,n=ma()?ga:ha;ba(()=>{n(r,r=a())&&(e&&xa(e),e=pa(()=>i(s)))}),aa&&(s=ya)}const ja=()=>performance.now(),T={tick:t=>requestAnimationFrame(t),now:()=>ja(),tasks:new Set};function ca(){const t=T.now();T.tasks.forEach(a=>{a.c(t)||(T.tasks.delete(a),a.f())}),T.tasks.size!==0&&T.tick(ca)}function Ba(t){let a;return T.tasks.size===0&&T.tick(ca),{promise:new Promise(i=>{T.tasks.add(a={c:t,f:i})}),abort(){T.tasks.delete(a)}}}function J(t,a){t.dispatchEvent(new CustomEvent(a))}function Da(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function la(t){const a={},i=t.split(";");for(const s of i){const[r,e]=s.split(":");if(!r||e===void 0)break;const n=Da(r.trim());a[n]=e.trim()}return a}const Ua=t=>t;function va(t,a,i,s){var r=(t&Ca)!==0,e="both",n,_=a.inert,c=a.style.overflow,o,l;function w(){var u=La,z=ta;ra(null),ea(null);try{return n??(n=i()(a,(s==null?void 0:s())??{},{direction:e}))}finally{ra(u),ea(z)}}var A={is_global:r,in(){a.inert=_,J(a,"introstart"),o=X(a,w(),l,1,()=>{J(a,"introend"),o==null||o.abort(),o=n=void 0,a.style.overflow=c})},out(u){a.inert=!0,J(a,"outrostart"),l=X(a,w(),o,0,()=>{J(a,"outroend"),u==null||u()})},stop:()=>{o==null||o.abort(),l==null||l.abort()}},x=ta;if((x.transitions??(x.transitions=[])).push(A),Oa){var v=r;if(!v){for(var f=x.parent;f&&f.f&Ia;)for(;(f=f.parent)&&!(f.f&ka););v=!f||(f.f&Ea)!==0}v&&Ta(()=>{Aa(()=>A.in())})}}function X(t,a,i,s,r){var e=s===1;if(Fa(a)){var n,_=!1;return Na(()=>{if(!_){var u=a({direction:e?"in":"out"});n=X(t,u,i,s,r)}}),{abort:()=>{_=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return r(),{abort:D,deactivate:D,reset:D,t:()=>s};const{delay:c=0,css:o,tick:l,easing:w=Ua}=a;var A=[];if(e&&i===void 0&&(l&&l(0,1),o)){var x=la(o(0,1));A.push(x,x)}var v=()=>1-s,f=t.animate(A,{duration:c});return f.onfinish=()=>{var u=(i==null?void 0:i.t())??1-s;i==null||i.abort();var z=s-u,M=a.duration*Math.abs(z),g=[];if(M>0){var P=!1;if(o)for(var O=Math.ceil(M/16.666666666666668),C=0;C<=O;C+=1){var F=u+z*w(C/O),q=la(o(F,1-F));g.push(q),P||(P=q.overflow==="hidden")}P&&(t.style.overflow="hidden"),v=()=>{var I=f.currentTime;return u+z*w(I/M)},l&&Ba(()=>{if(f.playState!=="running")return!1;var I=v();return l(I,1-I),!0})}f=t.animate(g,{duration:M,fill:"forwards"}),f.onfinish=()=>{v=()=>s,l==null||l(s,1-s),r()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=D)},deactivate:()=>{r=D},reset:()=>{s===0&&(l==null||l(1,0))},t:()=>v()}}var Ga=K("<div><div><!></div></div>");function Ka(t,a){const i=Q(a,["children","$$slots","$$events","$$legacy"]),s=Q(i,["ratio"]);let r=L(a,"ratio",8,"2x1");var e=Ga();let n;var _=ia(e);b(_,"bx--aspect-ratio--object",!0);var c=ia(_);G(c,a,"default",{},null),sa(_),sa(e),H(()=>{n=V(e,n,{...s}),b(e,"bx--aspect-ratio",!0),b(e,"bx--aspect-ratio--2x1",r()==="2x1"),b(e,"bx--aspect-ratio--2x3",r()==="2x3"),b(e,"bx--aspect-ratio--16x9",r()==="16x9"),b(e,"bx--aspect-ratio--4x3",r()==="4x3"),b(e,"bx--aspect-ratio--1x1",r()==="1x1"),b(e,"bx--aspect-ratio--3x4",r()==="3x4"),b(e,"bx--aspect-ratio--3x2",r()==="3x2"),b(e,"bx--aspect-ratio--9x16",r()==="9x16"),b(e,"bx--aspect-ratio--1x2",r()==="1x2")}),m(t,e)}const Wa=t=>t;function da(t,{delay:a=0,duration:i=400,easing:s=Wa}={}){const r=+getComputedStyle(t).opacity;return{delay:a,duration:i,easing:s,css:e=>`opacity: ${e*r}`}}var Za=K("<img>"),Ja=K("<!> <!> <!>",1),Qa=K("<img>"),Ha=K("<!> <!> <!>",1);function st(t,a){const i=Q(a,["children","$$slots","$$events","$$legacy"]),s=Q(i,["loadImage","src","alt","ratio","loading","loaded","error","fadeIn"]);za(a,!1);let r=L(a,"src",8,""),e=L(a,"alt",8,""),n=L(a,"ratio",8,void 0),_=L(a,"loading",12,!1),c=L(a,"loaded",12,!1),o=L(a,"error",12,!1),l=L(a,"fadeIn",8,!1);const w=g=>{v!=null&&(v=null),c(!1),o(!1),v=new Image,v.src=g||r(),v.onload=()=>c(!0),v.onerror=()=>o(!0)},A=Pa(),x=110;let v=null;Ra(()=>()=>v=null),W(()=>(U(c()),U(o())),()=>{_(!c()&&!o())}),W(()=>U(r()),()=>{r()&&typeof window<"u"&&w()}),W(()=>U(c()),()=>{c()&&A("load")}),W(()=>U(o()),()=>{o()&&A("error")}),Sa(),ua();var f=R(),u=E(f);{var z=g=>{var P=Ja(),O=E(P);{var C=h=>{var p=R(),d=E(p);G(d,a,"loading",{},null),m(h,p)};S(O,h=>{_()&&h(C)})}var F=Z(O,2);fa(F,r,h=>{var p=R(),d=E(p);{var y=k=>{var N=Za();let j;H(()=>{j=V(N,j,{...s,src:r(),alt:e()}),na(N,"width","100%")}),oa(N),$(N),va(3,N,()=>da,()=>({duration:l()?x:0})),m(k,N)};S(d,k=>{c()&&k(y)})}m(h,p)});var q=Z(F,2);{var I=h=>{var p=R(),d=E(p);G(d,a,"error",{},null),m(h,p)};S(q,h=>{o()&&h(I)})}m(g,P)},M=g=>{Ka(g,{get ratio(){return n()},children:(P,O)=>{var C=Ha(),F=E(C);{var q=d=>{var y=R(),k=E(y);G(k,a,"loading",{},null),m(d,y)};S(F,d=>{_()&&d(q)})}var I=Z(F,2);fa(I,r,d=>{var y=R(),k=E(y);{var N=j=>{var B=Qa();let Y;H(()=>{Y=V(B,Y,{...s,src:r(),alt:e()}),na(B,"width","100%")}),oa(B),$(B),va(3,B,()=>da,()=>({duration:l()?x:0})),m(j,B)};S(k,j=>{c()&&j(N)})}m(d,y)});var h=Z(I,2);{var p=d=>{var y=R(),k=E(y);G(k,a,"error",{},null),m(d,y)};S(h,d=>{o()&&d(p)})}m(P,C)},$$slots:{default:!0}})};S(u,g=>{n()===void 0?g(z):g(M,!1)})}return m(t,f),qa(a,"loadImage",w),Ma({loadImage:w})}export{st as I};
